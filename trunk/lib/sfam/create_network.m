function net = create_network(num_features, varargin)
% CREATE_NETWORK  Creates a new SFAM neural network.
%       NET = CREATE_NETWORK(NUM_FEATURES)  creates a new SFAM network [Simplified Fuzzy
%       ARTMAP (Kasuba, 1993)] suitable for data contaning NUM_FEATURES features. 
%
%	Network can be configured by giving parameters in the format:
%	NET = CREATE_NETWORK(NUM_FEATURES, 'paramname1', value1, 'paramname2', value2, ...)
%
%	Valid parameters are:  D, max_categories, vigilance, alpha, epochs, beta, epsilon,
%	singlePrecision.
%
% Emre Akbas, May 2006
%

net = struct( ...
     'D'		, num_features ...
    ,'max_categories' 	, 100 ...
    ,'vigilance'	, 0.75 ...
    ,'alpha' 		, 0.001 ...
    ,'epochs'		, 10 ...
    ,'beta'		, 1 ...
    ,'weights'		, cell(1) ...
    ,'labels'		, [] ...
    ,'epsilon'		, 0.001 ...
    ,'singlePrecision'	, false ...
);

for i=1:2:length(varargin)
    net = setfield(net,varargin{i},varargin{i+1});
end
